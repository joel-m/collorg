#PRAGMA 'goals':['Access management']
#PRAGMA 'tasks':['Access management']
#PRAGMA 'functions':['Collorg actor']
#PRAGMA 'label':'Grant access'
# >>>
"""
if the object on which the access is granted is a topic, the environment
associated becomes the topic itself.
"""
import time
user_oid = kwargs['user_oid']
if cog_user.cog_oid_.value != user_oid:
    user = self.db.get_elt_by_oid(user_oid)
    user.grant_access(self)
if self.fqtn == "collorg.web.topic" and self.cog_environment_.value != self.cog_oid_.value:
    ntopic = self()
    ntopic.cog_environment_.set_intention(self.cog_oid_.value)
    self.update(ntopic)
callback = eval("self.{}()".format(kwargs['callback']))
# ---
{% callback %}
